(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1187:function(e,n,t){"use strict";t.r(n);function r(e){var n=e.value,t=e.isLoading,r=e.onChange,a=e.onSubmit,o=e.classes,c=Object.values(n).every(function(e){return""!==e});return i.a.createElement("form",{className:o.container,onSubmit:a},i.a.createElement(b.a,{label:"Username",value:n.username,name:"username",onChange:r,margin:"normal",fullWidth:!0,autoFocus:!0,autoComplete:"off"}),i.a.createElement(b.a,{label:"Password",value:n.password,name:"password",onChange:r,margin:"normal",fullWidth:!0,type:"password",onBlur:function(){document.getElementById("login").focus()}}),i.a.createElement("p",{className:o.forgotContainer},i.a.createElement(d.a,{to:"/forgotPassword"},"Forgot Password?")),i.a.createElement(h.a,{onClick:a,variant:"contained",color:"primary",fullWidth:!0,className:o.button,disabled:!c,type:"submit",id:"login"},t?i.a.createElement(v.a,{size:20}):"Login"))}var o=t(0),i=t.n(o),a=t(2),c=t.n(a),s=t(14),u=t.n(s),l=t(898),f=t(563),p=t(10),m=t(692),d=t(1143),g=t(5),b=t(558),h=t(267),v=t(534);r.propTypes={value:c.a.object,isLoading:c.a.bool,onChange:c.a.func,onSubmit:c.a.func,classes:c.a.object};var y=Object(g.a)(function(e){return{container:{backgroundColor:"#fff",padding:"".concat(1.5*e.margin,"px ").concat(e.margin,"px"),width:450,borderRadius:6,margin:"0 auto"},button:{borderColor:e.palette.primary.main,marginTop:e.spacing(4),backgroundColor:"#20a8d8",color:"white"},forgotContainer:{textAlign:"right",fontSize:e.typography.pxToRem(12),color:"#20a8d8"}}})(r),w=t(693);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,n,t,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void t(e)}i.done?n(s):Promise.resolve(s).then(r,a)}function O(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,n){return(x=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function C(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function P(){var e=function(e,n){n=n||e.slice(0);return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background-color: #ffffff;\n"]);return P=function(){return e},e}var E=l.a.section(P()),_=function(){function a(){var e,s;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,a);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return C(j(s=function(e,n){return!n||"object"!==k(n)&&"function"!=typeof n?j(e):n}(this,(e=S(a)).call.apply(e,[this].concat(t)))),"isTokenSource",u.a.CancelToken.source()),C(j(s),"state",{form:{username:"",password:""},isLoading:!1,isSnackbarOpen:!1,snackbarMessage:""}),C(j(s),"onHandleChangeForm",function(e){var n=s.state.form;n[e.target.name]=e.target.value,s.setState({form:n})}),C(j(s),"onHandleSubmitForm",function(){var n=function(i){return function(){var e=this,c=arguments;return new Promise(function(n,t){var r=i.apply(e,c);function a(e){T(r,n,t,a,o,"next",e)}function o(e){T(r,n,t,a,o,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(n){var t,r,a,o,c,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t=s.props.history,r=s.state.form,Object.values(r).every(function(e){return""===e}))return e.abrupt("return");e.next=6;break;case 6:return e.prev=6,s.setState({isLoading:!0}),e.next=10,m.a.onLogin({cancelToken:s.isTokenSource.token,username:r.username,password:r.password});case 10:a=e.sent,s.setState({isLoading:!1}),p.c.set({token:a.token,refreshToken:"",roleName:a.role_name,role_id:a.role_id,franchiseId:a.franchise_id,userName:a.user_name,userId:a.user_id,uid:a.uid}),t.push("/auth"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),u.a.isCancel(e.t0)?console.log("Request canceled",e.t0.message):(o=e.t0.response.data,c=o.message,401!==(i=o.errorCode)&&500!==i||s.onToggleSnackbar({message:c}),s.setState({isLoading:!1}));case 19:case"end":return e.stop()}},e,null,[[6,16]])}));return function(e){return n.apply(this,arguments)}}()),C(j(s),"onToggleSnackbar",function(e){var n=e.message,t=void 0===n?"Error":n;s.setState(function(e){return{isSnackbarOpen:!e.isSnackbarOpen,snackbarMessage:t}})}),s}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&x(e,n)}(a,o["Component"]),function(e,n,t){n&&O(e.prototype,n),t&&O(e,t)}(a,[{key:"componentWillUnmount",value:function(){this.isTokenSource.cancel("API Cancel")}},{key:"render",value:function(){var e=this.state,n=e.form,t=e.isLoading,r=e.isSnackbarOpen,a=e.snackbarMessage;return i.a.createElement(E,null,i.a.createElement(w.a,null),i.a.createElement(y,{value:n,isLoading:t,onChange:this.onHandleChangeForm,onSubmit:this.onHandleSubmitForm}),i.a.createElement(f.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:r,autoHideDuration:6e3,onClose:this.onToggleSnackbar,ContentProps:{"aria-describedby":"message-id"},message:i.a.createElement("span",{id:"message-id"},a)}))}}]),a}();_.propTypes={history:c.a.object};n.default=_},692:function(e,n,t){"use strict";var r=t(14),i=t.n(r),s=t(10);function u(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],0<=n.indexOf(t)||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],0<=n.indexOf(t)||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function l(e,n,t,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void t(e)}i.done?n(s):Promise.resolve(s).then(r,a)}function a(i){return function(){var e=this,c=arguments;return new Promise(function(n,t){var r=i.apply(e,c);function a(e){l(r,n,t,a,o,"next",e)}function o(e){l(r,n,t,a,o,"throw",e)}a(void 0)})}}function f(e){var n=e.methodType;return{method:void 0===n?"GET":n,headers:{"Content-Type":"application/json"}}}var o,c,p,m;n.a={onLogin:(m=a(regeneratorRuntime.mark(function e(n){var t,r,a,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.cancelToken,r=u(n,["cancelToken"]),a="".concat(s.a,"/api/auth/login"),e.prev=2,e.next=5,i()(a,Object.assign({},f({methodType:"POST"}),{cancelToken:t,data:r}));case 5:return o=e.sent,c=o.data,e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}},e,null,[[2,10]])})),function(e){return m.apply(this,arguments)}),onValidate:(p=a(regeneratorRuntime.mark(function e(n){var t,r,a,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.cancelToken,r=n.accessToken,a="".concat(s.a,"/something"),e.prev=2,e.next=5,i()(a,{method:"GET",headers:{access_token:r},cancelToken:t});case 5:return o=e.sent,c=o.data,e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}},e,null,[[2,10]])})),function(e){return p.apply(this,arguments)}),onRefresh:(c=a(regeneratorRuntime.mark(function e(n){var t,r,a,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.cancelToken,r=u(n,["cancelToken"]),a="".concat(s.a,"/something"),e.prev=2,e.next=5,i()(a,Object.assign({},f({methodType:"POST"}),{cancelToken:t,data:r}));case 5:return o=e.sent,c=o.data,e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}},e,null,[[2,10]])})),function(e){return c.apply(this,arguments)}),onForgotPassword:(o=a(regeneratorRuntime.mark(function e(n){var t,r,a,o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.cancelToken,r=u(n,["cancelToken"]),a="".concat(s.a,"/api/auth/forgotPassword"),e.prev=2,e.next=5,i()(a,Object.assign({},f({methodType:"POST"}),{cancelToken:t,data:r}));case 5:return o=e.sent,c=o.data,e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}},e,null,[[2,10]])})),function(e){return o.apply(this,arguments)})}},693:function(e,n,t){"use strict";function r(e){var n=e.classes;return o.a.createElement(a.Fragment,null,o.a.createElement("img",{src:"/images/rentronics_logo2.png",alt:"app logo",className:n.logo}))}var a=t(0),o=t.n(a),c=t(2),i=t.n(c),s=t(5);r.propTypes={classes:i.a.object},n.a=Object(s.a)(function(e){return{heading:{color:"#fff",textAlign:"center",marginBottom:2*e.margin},logo:{width:250,heading:250,objectFit:"cover",marginBottom:2*e.margin}}})(r)}}]);